from typing import Any

SUPPORTED_LANGS = {"ko", "en", "ja"}
DEFAULT_LANG = "ko"


TRANSLATIONS: dict[str, dict[str, Any]] = {
    "ko": {
        "customer_title": "짐보관 접수",
        "reception_title": "접수 입력",
        "reception_desc": "입력 즉시 선결제 금액이 계산됩니다. 요금은 선결제입니다.",
        "notice_title": "유의사항 및 개인정보 수집 동의",
        "name": "이름",
        "phone": "전화번호",
        "companion_count": "같이 방문한 인원 (본인 포함)",
        "companion_count_custom_option": "10명 초과 (직접입력)",
        "companion_count_custom_placeholder": "인원 수 입력",
        "companion_count_hint": "10명 이상 단체는 직접 입력할 수 있습니다.",
        "bag_qty_custom_option": "10개 초과 (직접입력)",
        "bag_qty_custom_placeholder": "개수 입력",
        "payment_method_label": "결제수단",
        "payment_method_pay_qr": "페이QR결제",
        "payment_method_pay_qr_note": "카카오페이, 네이버페이, 토스페이 가능",
        "payment_method_cash": "현금",
        "id_image": "신분증 사진",
        "id_image_hint": "(이름과 얼굴 사진만 나오면 됩니다)",
        "file_select": "파일 선택",
        "file_none": "선택된 파일 없음",
        "file_optimized": "최적화 완료",
        "mobile_upload_hint": "모바일 업로드 속도를 위해 사진이 자동 최적화됩니다.",
        "upload_optimizing": "사진을 업로드용으로 최적화 중입니다...",
        "upload_submitting": "전송 중입니다. 잠시만 기다려주세요...",
        "upload_error": "업로드 중 문제가 발생했습니다. 네트워크를 확인하고 다시 시도해주세요.",
        "luggage_image": "짐 전체 사진",
        "suitcase_qty": "캐리어 개수",
        "suitcase_qty_hint": "바퀴/손잡이가 있는 여행용 캐리어",
        "backpack_qty": "가방(백팩) 개수",
        "backpack_qty_hint": "일반 백팩/숄더백/작은 여행가방",
        "expected_pickup": "예정 픽업일/시간",
        "expected_pickup_date": "예정 픽업일",
        "expected_pickup_time": "예정 픽업 시간",
        "pickup_flexible_note": "시간은 정확하지 않아도 괜찮습니다. 영업시간(09:00~21:00) 내에서만 수령해주세요.",
        "photo_retention_notice": "업로드한 사진은 14일 이내 자동 삭제됩니다.",
        "consent": "유의사항 및 개인정보 수집 동의에 동의합니다.",
        "mobile_submit_hint": "모바일에서는 제출 중 화면을 닫지 마세요.",
        "submit": "접수하기",
        "price_preview": "예상 선결제 금액",
        "preview_meta_default": "요금 정책에 따라 자동 계산됩니다.",
        "preview_meta_empty": "짐 수량과 픽업시간을 입력하면 금액이 표시됩니다.",
        "preview_invalid_title": "입력 확인",
        "preview_invalid_meta": "입력값을 다시 확인해주세요.",
        "preview_error_title": "계산 오류",
        "preview_error_meta": "네트워크 상태를 확인 후 다시 시도해주세요.",
        "pickup_late_warning": "영업시간은 오후 9시까지입니다. 반드시 오후 9시 이전에 짐을 찾아주세요.",
        "preview_result_meta": "1일 ¥ {price_per_day} · {days}일 · 세트할인 {set_qty}개 적용 · 장기할인 {discount}% 적용",
        "discount_table": "장기보관 할인표",
        "discount_table_expand": "장기보관 할인표 보기",
        "pickup_note": "영업시간: 09:00~21:00 (JST)",
        "counter_notice": "아래 안내를 확인해주세요.",
        "receipt_link": "영수증 발급",
    },
    "en": {
        "customer_title": "Luggage Storage",
        "reception_title": "Reception",
        "reception_desc": "Prepaid amount is calculated instantly. Payment is prepaid.",
        "notice_title": "Guidelines and Consent to Personal Information",
        "name": "Name",
        "phone": "Phone",
        "companion_count": "Visitors (including yourself)",
        "companion_count_custom_option": "More than 10 (manual input)",
        "companion_count_custom_placeholder": "Enter visitor count",
        "companion_count_hint": "For groups over 10, enter the exact count manually.",
        "bag_qty_custom_option": "More than 10 (manual input)",
        "bag_qty_custom_placeholder": "Enter quantity",
        "payment_method_label": "Payment method",
        "payment_method_pay_qr": "Pay QR",
        "payment_method_pay_qr_note": "PayPay supported",
        "payment_method_cash": "Cash",
        "id_image": "ID photo",
        "id_image_hint": "(Only name and face need to be visible)",
        "file_select": "Choose file",
        "file_none": "No file selected",
        "file_optimized": "Optimized",
        "mobile_upload_hint": "Photos are auto-optimized for faster mobile upload.",
        "upload_optimizing": "Optimizing photos for upload...",
        "upload_submitting": "Submitting... please wait a moment.",
        "upload_error": "Upload failed. Please check your network and try again.",
        "luggage_image": "Luggage photo",
        "suitcase_qty": "Suitcase qty",
        "suitcase_qty_hint": "Travel suitcase with wheels/pull handle",
        "backpack_qty": "Bag/Backpack qty",
        "backpack_qty_hint": "Regular backpack/shoulder bag/small travel bag",
        "expected_pickup": "Expected pickup date/time",
        "expected_pickup_date": "Expected pickup date",
        "expected_pickup_time": "Expected pickup time",
        "pickup_flexible_note": "It's okay if the pick-up time is not exact. Please collect your luggage within business hours (09:00-21:00).",
        "photo_retention_notice": "Uploaded photos are automatically deleted within 14 days.",
        "consent": "I agree to the caution notice and personal information policy.",
        "mobile_submit_hint": "On mobile, please keep this page open while submitting.",
        "submit": "Submit",
        "price_preview": "Estimated prepaid amount",
        "preview_meta_default": "The amount is calculated automatically based on policy.",
        "preview_meta_empty": "Enter baggage quantity and pickup time to see pricing.",
        "preview_invalid_title": "Check input",
        "preview_invalid_meta": "Please review your input values.",
        "preview_error_title": "Calc error",
        "preview_error_meta": "Please check your network and try again.",
        "pickup_late_warning": "Business hours end at 9:00 PM. Please make sure to pick up your luggage before 9:00 PM.",
        "preview_result_meta": "¥ {price_per_day}/day · {days} days · set discount applied ({set_qty}) · long-stay discount {discount}%",
        "discount_table": "Long-stay discount table",
        "discount_table_expand": "View long-stay discount table",
        "pickup_note": "Business hours: 09:00~21:00 (JST)",
        "counter_notice": "Please review the guidance below.",
        "receipt_link": "Receipt",
    },
    "ja": {
        "customer_title": "荷物預かり受付",
        "reception_title": "受付入力",
        "reception_desc": "入力すると事前決済金額が即時に計算されます。料金は前払いです。",
        "notice_title": "注意事項および個人情報同意",
        "name": "氏名",
        "phone": "電話番号",
        "companion_count": "来店人数（本人を含む）",
        "companion_count_custom_option": "10名超（手入力）",
        "companion_count_custom_placeholder": "人数を入力",
        "companion_count_hint": "10名以上の団体は人数を手入力できます。",
        "bag_qty_custom_option": "10個超（手入力）",
        "bag_qty_custom_placeholder": "個数を入力",
        "payment_method_label": "決済方法",
        "payment_method_pay_qr": "Pay QR決済",
        "payment_method_pay_qr_note": "PayPayが利用可能",
        "payment_method_cash": "現金",
        "id_image": "本人確認書類写真",
        "id_image_hint": "（氏名と顔写真が見える状態で撮影してください）",
        "file_select": "ファイル選択",
        "file_none": "ファイルが選択されていません",
        "file_optimized": "最適化済み",
        "mobile_upload_hint": "モバイルでのアップロード速度向上のため写真を自動最適化します。",
        "upload_optimizing": "写真をアップロード用に最適化中です...",
        "upload_submitting": "送信中です。しばらくお待ちください。",
        "upload_error": "アップロードに失敗しました。通信状態をご確認のうえ再試行してください。",
        "luggage_image": "荷物全体写真",
        "suitcase_qty": "スーツケース個数",
        "suitcase_qty_hint": "キャスター/引き手付きの旅行用スーツケース",
        "backpack_qty": "バッグ(リュック)個数",
        "backpack_qty_hint": "一般的なリュック/ショルダー/小型旅行バッグ",
        "expected_pickup": "受取予定日時",
        "expected_pickup_date": "受取予定日",
        "expected_pickup_time": "受取予定時間",
        "pickup_flexible_note": "受取時間は正確でなくても問題ありません。営業時間（09:00〜21:00）内にお受け取りください。",
        "photo_retention_notice": "アップロードされた写真は14日以内に自動削除されます。",
        "consent": "注意事項および個人情報ポリシーに同意します。",
        "mobile_submit_hint": "モバイルでは送信完了まで画面を閉じないでください。",
        "submit": "受付する",
        "price_preview": "事前決済予定金額",
        "preview_meta_default": "料金ポリシーに基づき自動計算されます。",
        "preview_meta_empty": "荷物数と受取時間を入力すると金額が表示されます。",
        "preview_invalid_title": "入力確認",
        "preview_invalid_meta": "入力値を確認してください。",
        "preview_error_title": "計算エラー",
        "preview_error_meta": "ネットワーク状態をご確認の上、再試行してください。",
        "pickup_late_warning": "営業時間は21:00までです。必ず21:00までにお荷物をお受け取りください。",
        "preview_result_meta": "1日 ¥ {price_per_day} ・ {days}日 ・ セット割引 {set_qty}件適用 ・ 長期割引 {discount}% 適用",
        "discount_table": "長期保管割引表",
        "discount_table_expand": "長期保管割引表を表示",
        "pickup_note": "営業時間: 09:00~21:00 (JST)",
        "counter_notice": "以下の案内をご確認ください。",
        "receipt_link": "領収書発行",
    },
}


def get_translations(lang: str) -> tuple[str, dict[str, Any]]:
    normalized = lang if lang in SUPPORTED_LANGS else DEFAULT_LANG
    return normalized, TRANSLATIONS[normalized]
